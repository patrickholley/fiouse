<section [hidden]="isLoading">
<h3>{{route}} User</h3>
<form (ngSubmit)="onSubmit(f)" #f="ngForm">
<fieldset [disabled]="isView">
<span *ngIf="!isView">Username: <input type="text"
                name="uname"
                id="uname"
                [(ngModel)]="user.username"
                [hidden]="isEdit"
                required>
<span [hidden]="!isEdit">{{user.username}}</span><br></span>
Team: <span *ngIf="isView">{{user.name}}</span>
<span *ngIf="!isView"><select id="team"
                                name="team"
                                [(ngModel)]="user.team_id"
                                #t
                                (change)="user.team_id = t.value"
                                required>
<option value=""></option>
<option *ngFor="let team of teamList"
        [value]="team.id"><span *ngIf="isFiouse">{{team.company_id}}. </span>{{team.name}}</option>
</select></span><br>
First Name: <input type="text"
                name="fname"
                id="fname"
                [(ngModel)]="user.first_name"
                required><br>
Last Name: <input type="text"
                name="lname"
                id="lname"
                [(ngModel)]="user.last_name"
                required><br>
Email: <input type="text"
        name="email"
        id="email"
        [(ngModel)]="user.email"
        pattern=".+@.+"
        required><br>
<span *ngIf="!isView"><span [hidden]="!isEdit">(Leave the next two fields blank to keep old password)<br></span>
Password: 
<input type="password"
        name="password"
        id="password"
        [(ngModel)]="user.password"><br>
Confirm Password<span [hidden]="!isEdit"></span>: 
<input type="password"
        name="cpassword"
        id="cpassword"
        [(ngModel)]="user.cpassword"><br></span>
Role: <input type="text"
        name="role"
        id="role"
        [(ngModel)]="user.role"
        required><br>
Reports To (Optional): <select id="reports_to"
        name="reports_to"
        [(ngModel)]="user.reports_to_id"
        #r
        (change)="user.reports_to_id = r.value">
<option value=""></option>
<option *ngFor="let reportsTo of userList"
        [value]="reportsTo.id"><span *ngIf="isFiouse">{{reportsTo.company_id}}. </span>{{reportsTo.last_name}}, {{reportsTo.first_name}}</option>
</select><br>
<fieldset *ngIf="!isView">
To save these changes, please enter your password below and hit "Save".<br>
<input type="password"
        name="opassword"
        id="opassword"
        [(ngModel)]="user.opassword"
        required><br>
<button type="submit" class="btn btn-primary">Save</button>
<button type=button (click)="onDelete()" [hidden]="!isEdit">Delete</button><br>
</fieldset>
</fieldset>
<button type=button (click)="onEdit()">{{editor}}</button>
<button type=button (click)="onCancel()">Back</button><br>
</form>
</section>